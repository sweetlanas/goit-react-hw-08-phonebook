{"version":3,"sources":["redux/auth/auth-selectors.js","redux/auth/auth-operations.js","components/Navigation/Navigation.jsx","components/Form/Form.styles.jsx","redux/phonebook/phonebook-operations.js","redux/phonebook/phonebook-selectors.js","components/Form/Form.jsx","components/Filter/Filter.styles.jsx","redux/phonebook/phonebook-actions.js","components/Filter/Filter.jsx","components/Contacts/Contacts.styles.jsx","helpers/getFilteredContacts.js","components/Contacts/Contacts.jsx","components/Section/Section.styles.jsx","components/Section/Section.jsx","views/Contacts.js","views/HomeView.js","views/LogIn.js","views/Register.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/phonebook/phonebook-reducers.js","redux/auth/auth-slices.js","redux/store.js","index.js"],"names":["getLoggedIn","state","auth","isLoggedIn","axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","credentials","a","post","data","console","log","message","logIn","logOut","getCurrentUser","_","thunkAPI","getState","persistedToken","rejectWithValue","get","styles","container","borderRadius","backgroundColor","display","justifyContent","padding","marginBottom","link","textDecoration","marginRight","Navigation","useSelector","dispatch","useDispatch","style","to","Button","variant","color","onClick","WrapperForm","BtnAdd","BtnText","Container","Input","InputTitle","fetchContacts","addContacts","contact","deleteContacts","contactId","delete","getContacts","phonebook","contacts","getFilter","filter","Form","form","useRef","useState","name","setName","number","setNumber","handleInputChange","event","currentTarget","value","useEffect","gsap","fromTo","x","opacity","ease","Power3","easeInOut","rotate","resetForm","ref","el","onSubmit","preventDefault","some","alert","type","pattern","title","required","onChange","size","ContactTitle","InputFind","createAction","Filter","e","target","ContactItem","BtnDelete","NumberText","getVisibleContacts","normalizedFilter","toLowerCase","trim","includes","Contacts","map","id","Title","Section","children","HomeView","width","label","flexDirection","LogIn","email","setEmail","password","setPassword","handleChange","autoComplete","Register","PrivatRoute","Component","component","redirectTo","routeProps","isAuthenticate","render","props","isAuthenticated","restricted","App","path","exact","createReducer","fulfilled","action","payload","filterReducer","rootReducer","combineReducers","authReducer","createSlice","initialState","user","isFetchingCurrentUser","extraReducers","pending","rejected","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","devTools","process","persistor","persistStore","ReactDOM","StrictMode","configs","loading","document","getElementById"],"mappings":"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","file":"static/js/main.1b1d2f6f.chunk.js","sourcesContent":["export const getLoggedIn = state => state.auth.isLoggedIn;\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nexport const register = createAsyncThunk('auth/register', async credentials => {\n  try {\n    const { data } = await axios.post('/users/signup', credentials);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    console.log(error.message);\n  }\n});\n\nexport const logIn = createAsyncThunk('auth/login', async credentials => {\n  try {\n    const { data } = await axios.post('/users/login', credentials);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    console.log(error.message);\n  }\n});\n\nexport const logOut = createAsyncThunk('auth/logout', async () => {\n  try {\n    await axios.post('/users/logout');\n    token.unset();\n  } catch (error) {\n    console.log(error);\n  }\n});\n\nexport const getCurrentUser = createAsyncThunk(\n  'auth/refresh',\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      return thunkAPI.rejectWithValue();\n    }\n\n    token.set(persistedToken);\n    try {\n      const { data } = await axios.get('/users/current');\n      return data;\n    } catch (error) {\n      console.log(error.message);\n    }\n  },\n);\n","import { NavLink } from \"react-router-dom\";\nimport { getLoggedIn } from \"../../redux/auth/auth-selectors\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { logOut } from \"../../redux/auth/auth-operations\";\nimport Button from \"@material-ui/core/Button\";\n\nconst styles = {\n  container: {\n    borderRadius: \"10px\",\n    backgroundColor: \"rgba(0, 170, 238, 0.8)\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    padding: \"15px 30px\",\n    marginBottom: \"30px\",\n  },\n  link: {\n    textDecoration: \"none\",\n    display: \"inline-block\",\n    marginRight: \"20px\",\n  },\n};\n\nfunction Navigation() {\n  const isLoggedIn = useSelector(getLoggedIn);\n\n  const dispatch = useDispatch();\n\n  return (\n    <header style={styles.container}>\n      <div>\n        <NavLink style={styles.link} to=\"/\">\n          <Button variant=\"contained\" color=\"primary\">\n            Главная\n          </Button>\n        </NavLink>\n\n        {isLoggedIn && (\n          <NavLink style={styles.link} to=\"/contacts\">\n            <Button variant=\"contained\" color=\"primary\">\n              Контакты\n            </Button>\n          </NavLink>\n        )}\n      </div>\n\n      {isLoggedIn ? (\n        <Button\n          onClick={() => dispatch(logOut())}\n          variant=\"contained\"\n          color=\"primary\"\n        >\n          Logout\n        </Button>\n      ) : (\n        <div>\n          <NavLink style={styles.link} to=\"/login\">\n            <Button variant=\"contained\" color=\"primary\">\n              Логин\n            </Button>\n          </NavLink>\n\n          <NavLink style={styles.link} to=\"/register\">\n            <Button variant=\"contained\" color=\"primary\">\n              Регистрация\n            </Button>\n          </NavLink>\n        </div>\n      )}\n    </header>\n  );\n}\n\nexport default Navigation;\n","import styled from '@emotion/styled/macro';\n\nexport const WrapperForm = styled.div`\n  margin-bottom: 20px;\n  padding: 20px;\n  box-shadow: 0px 1px 5px 1px rgba(34, 60, 80, 0.4);\n`;\n\nexport const BtnAdd = styled.button`\n  display: flex;\n  align-items: center;\n  padding: 7px;\n  border-color: transparent;\n  border-radius: 5px;\n  background-color: #c7cace;\n  text-transform: uppercase;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  &:hover {\n    background-color: #3561d0;\n    color: #fff;\n  }\n`;\n\nexport const BtnText = styled.span`\n  margin-right: 5px;\n`;\n\nexport const Container = styled.div`\n  margin-bottom: 15px;\n`;\n\nexport const Input = styled.input`\n  border-color: #a29f9f;\n  border-radius: 5px;\n  &:hover {\n    border-color: #0741d3;\n  }\n`;\n\nexport const InputTitle = styled.p`\n  margin-bottom: 10px;\n`;\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nexport const fetchContacts = createAsyncThunk(\n  'contacts/fetchContacts',\n  async () => {\n    try {\n      const { data } = await axios.get('/contacts');\n      return data;\n    } catch (error) {\n      console.log(error.message);\n    }\n  },\n);\n\nexport const addContacts = createAsyncThunk(\n  'contacts/addContacts',\n  async contact => {\n    try {\n      const { data } = await axios.post('/contacts', contact);\n      return data;\n    } catch (error) {\n      console.log(error.message);\n    }\n  },\n);\n\nexport const deleteContacts = createAsyncThunk(\n  'contacts/deleteContacts',\n  async contactId => {\n    try {\n      await axios.delete(`/contacts/${contactId}`);\n      return contactId;\n    } catch (error) {\n      console.log(error.message);\n    }\n  },\n);\n","export const getContacts = state => state.phonebook.contacts;\n\nexport const getFilter = state => state.phonebook.filter;\n","import { useEffect, useState } from \"react\";\nimport {\n  WrapperForm,\n  BtnAdd,\n  BtnText,\n  Container,\n  Input,\n  InputTitle,\n} from \"./Form.styles\";\nimport { BsFillPersonPlusFill } from \"react-icons/bs\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addContacts } from \"../../redux/phonebook/phonebook-operations\";\nimport { getContacts } from \"../../redux/phonebook/phonebook-selectors\";\nimport { gsap, Power3 } from \"gsap\";\nimport { useRef } from \"react\";\n\nfunction Form() {\n  const dispatch = useDispatch();\n  const contacts = useSelector(getContacts);\n\n  let form = useRef(null);\n  const [name, setName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.currentTarget;\n    switch (name) {\n      case \"name\":\n        setName(value);\n        break;\n\n      case \"number\":\n        setNumber(value);\n        break;\n\n      default:\n        return;\n    }\n  };\n\n  useEffect(() => {\n    gsap.fromTo(\n      form,\n      1,\n      {\n        x: -1800,\n        opacity: 0,\n        ease: Power3.easeInOut(),\n        rotate: 360,\n      },\n      {\n        x: 0,\n        opacity: 1,\n        backgroundColor: \"#dbd8eb\",\n        rotate: 720,\n      }\n    );\n  }, []);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (contacts.some((el) => el.name === name)) {\n      alert(` ${name} is already in contacts!`);\n      return;\n    }\n    dispatch(addContacts({ name, number }));\n\n    resetForm();\n  };\n\n  const resetForm = () => {\n    setName(\"\");\n    setNumber(\"\");\n  };\n\n  return (\n    <div>\n      <div ref={(el) => (form = el)}>\n        <WrapperForm>\n          <form onSubmit={handleSubmit}>\n            <Container>\n              <label>\n                <InputTitle>Name</InputTitle>\n                <Input\n                  type=\"text\"\n                  name=\"name\"\n                  value={name}\n                  pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n                  title=\"Имя может состоять только из букв, апострофа, тире и пробелов. \n                        Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n                  required\n                  onChange={handleInputChange}\n                />\n              </label>\n            </Container>\n\n            <Container>\n              <label>\n                <InputTitle>Number</InputTitle>\n                <Input\n                  type=\"tel\"\n                  name=\"number\"\n                  value={number}\n                  pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n                  title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, \n                        круглые скобки и может начинаться с +\"\n                  required\n                  onChange={handleInputChange}\n                />\n              </label>\n            </Container>\n\n            <BtnAdd type=\"submit\">\n              <BtnText>Add contact</BtnText>\n              <BsFillPersonPlusFill size={16} />\n            </BtnAdd>\n          </form>\n        </WrapperForm>\n      </div>\n    </div>\n  );\n}\n\nexport default Form;\n","import styled from '@emotion/styled/macro';\n\nexport const ContactTitle = styled.h3`\nmargin-bottom: 10px;\n`;\n\nexport const InputFind = styled.input`\nmargin-bottom: 20px;\nborder-color: #a29f9f;\nborder-radius: 5px;\n\n&:hover {\n    border-color: #0741d3;\n}\n`;","import { createAction } from '@reduxjs/toolkit';\n\nexport const addContact = createAction('phonebook/addContact');\n\nexport const deleteContact = createAction('phonebook/deleteContact');\n\nexport const filter = createAction('phonebook/filter');\n","import { ContactTitle, InputFind } from \"./Filter.styles\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getFilter } from \"../../redux/phonebook/phonebook-selectors\";\nimport { filter } from \"../../redux/phonebook/phonebook-actions\";\n\nfunction Filter() {\n  const value = useSelector(getFilter);\n  const dispatch = useDispatch();\n\n  const onChange = (e) => {\n    dispatch(filter(e.target.value));\n  };\n\n  return (\n    <div>\n      <ContactTitle>Find contacts by name</ContactTitle>\n      <InputFind type=\"text\" value={value} onChange={onChange} />\n    </div>\n  );\n}\n\nexport default Filter;\n","import styled from '@emotion/styled/macro';\n\nexport const ContactItem = styled.li`\ndisplay: flex;\nalign-items: center;\njustify-content: space-between;\nmargin-bottom: 10px;\nlist-style: none;\ntransition: color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n&:hover {\n    color: #3561d0;\n}\n`;\n\nexport const BtnDelete = styled.button`\ndisplay: inline-flex;\nalign-items: center;\npadding: 5px;\nborder-color: transparent;\nborder-radius: 5px;\nbackground-color: #c7cace;\ntext-transform: uppercase;\ncursor: pointer;\n\n&:hover {\n    background-color: #3561d0;\n    color: #fff;\n    transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n}\n`; \n\nexport const BtnText = styled.span`\nmargin-right: 5px;\n`;\n\nexport const NumberText = styled.span`\nmargin-right: 30px;\nmargin-left: 10px\n`;","export const getVisibleContacts = (contacts, filter) => {\n  const normalizedFilter = filter.toLowerCase().trim();\n\n  return contacts.filter(contact =>\n    contact.name.toLowerCase().includes(normalizedFilter),\n  );\n};\n","import { ContactItem, BtnText, BtnDelete, NumberText } from \"./Contacts.styles\";\nimport { BsFillPersonDashFill } from \"react-icons/bs\";\nimport { BiWinkSmile } from \"react-icons/bi\";\n\nimport {\n  getContacts,\n  getFilter,\n} from \"../../redux/phonebook/phonebook-selectors\";\nimport { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getVisibleContacts } from \"../../helpers/getFilteredContacts\";\n\nimport {\n  fetchContacts,\n  deleteContacts,\n} from \"../../redux/phonebook/phonebook-operations\";\n\nconst Contacts = () => {\n  const dispatch = useDispatch();\n  const filter = useSelector(getFilter);\n\n  const data = useSelector(getContacts);\n\n  useEffect(() => {\n    dispatch(fetchContacts());\n  }, [dispatch]);\n\n  return (\n    <ul>\n      {data &&\n        getVisibleContacts(data, filter).map(({ id, name, number }) => {\n          return (\n            <ContactItem key={id}>\n              <BiWinkSmile size={18} />\n              {name}:<NumberText>{number}</NumberText>\n              <BtnDelete\n                type=\"button\"\n                onClick={() => dispatch(deleteContacts(id))}\n              >\n                <BtnText>Delete</BtnText>\n                <BsFillPersonDashFill size={16} />\n              </BtnDelete>\n            </ContactItem>\n          );\n        })}\n    </ul>\n  );\n};\n\nexport default Contacts;\n","import styled from '@emotion/styled/macro';\n\nexport const Container = styled.div`\nwidth: 500px;\nmargin: 0 auto;\n`;\n\nexport const Title = styled.h2`\nmargin-bottom: 20px;\ntext-align: center;\ncolor: #2d2b2b;\n`;","import PropTypes from 'prop-types';\nimport { Container, Title } from './Section.styles';\n\nconst Section = ({ title, children }) => (\n    <Container>\n        <Title>{title}</Title>\n        {children}\n    </Container>\n)\n\nSection.propTypes = {\n    title: PropTypes.string.isRequired,\n    children: PropTypes.node.isRequired,\n};\n\nexport default Section;","import Form from '../components/Form/Form';\nimport Filter from '../components/Filter/Filter';\nimport ContactsView from '../components/Contacts/Contacts';\nimport Section from '../components/Section/Section';\n\nfunction Contacts() {\n  return (\n    <div>\n      <Section title=\"Phonebook\">\n        <Form />\n      </Section>\n\n      <Section title=\"Contacts\">\n        <Filter />\n        <ContactsView />\n      </Section>\n    </div>\n  );\n}\n\nexport default Contacts;\n","import React from 'react';\n\nfunction HomeView() {\n  return <div></div>;\n}\n\nexport default HomeView;\n","import { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { logIn } from \"../redux/auth/auth-operations\";\n\nconst styles = {\n  form: {\n    width: 320,\n  },\n  label: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginBottom: 15,\n  },\n};\n\nfunction LogIn() {\n  const dispatch = useDispatch();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleChange = ({ target: { name, value } }) => {\n    switch (name) {\n      case \"email\":\n        return setEmail(value);\n      case \"password\":\n        return setPassword(value);\n      default:\n        return;\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(logIn({ email, password }));\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit} style={styles.form} autoComplete=\"off\">\n        <label style={styles.label}>\n          Почта\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            onChange={handleChange}\n          />\n        </label>\n\n        <label style={styles.label}>\n          Пароль\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={handleChange}\n          />\n        </label>\n\n        <button type=\"submit\">Войти</button>\n      </form>\n    </div>\n  );\n}\n\nexport default LogIn;\n","import { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { register } from '../redux/auth/auth-operations';\n\nconst styles = {\n  form: {\n    width: 320,\n  },\n  label: {\n    display: 'flex',\n    flexDirection: 'column',\n    marginBottom: 15,\n  },\n};\n\nfunction Register() {\n  const dispatch = useDispatch();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleChange = ({ target: { name, value } }) => {\n    switch (name) {\n      case 'name':\n        return setName(value);\n      case 'email':\n        return setEmail(value);\n      case 'password':\n        return setPassword(value);\n      default:\n        return;\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(register({ name, email, password }));\n    setName('');\n    setEmail('');\n    setPassword('');\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit} style={styles.form} autoComplete=\"off\">\n        <label style={styles.label}>\n          Имя\n          <input type=\"text\" name=\"name\" value={name} onChange={handleChange} />\n        </label>\n\n        <label style={styles.label}>\n          Почта\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            onChange={handleChange}\n          />\n        </label>\n\n        <label style={styles.label}>\n          Пароль\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={handleChange}\n          />\n        </label>\n\n        <button type=\"submit\">Зарегистрироваться</button>\n      </form>\n    </div>\n  );\n}\n\nexport default Register;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { getLoggedIn } from '../redux/auth/auth-selectors';\nimport { useSelector } from 'react-redux';\n\nexport default function PrivatRoute({\n  component: Component,\n  redirectTo,\n  ...routeProps\n}) {\n  const isAuthenticate = useSelector(getLoggedIn);\n  return (\n    <Route\n      {...routeProps}\n      render={props =>\n        isAuthenticate ? <Component {...props} /> : <Redirect to={redirectTo} />\n      }\n    />\n  );\n}\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { getLoggedIn } from '../redux/auth/auth-selectors';\n\nexport default function PrivatRoute({\n  component: Component,\n  redirectTo,\n  ...routeProps\n}) {\n  const isAuthenticated = useSelector(getLoggedIn);\n  return (\n    <Route\n      {...routeProps}\n      render={props =>\n        isAuthenticated && routeProps.restricted ? (\n          <Redirect to={redirectTo} />\n        ) : (\n          <Component {...props} />\n        )\n      }\n    />\n  );\n}\n","import { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\n\nimport Navigation from \"./components/Navigation/Navigation\";\nimport { Switch } from \"react-router-dom\";\n\nimport Contacts from \"./views/Contacts\";\nimport HomeView from \"./views/HomeView\";\nimport LogIn from \"./views/LogIn\";\nimport Register from \"./views/Register\";\n\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport PublicRoute from \"./components/PublicRoute\";\nimport { getCurrentUser } from \"./redux/auth/auth-operations\";\n\nfunction App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <>\n      <Navigation />\n      <Switch>\n        <PublicRoute path=\"/\" exact component={HomeView} />\n        <PrivateRoute\n          path=\"/contacts\"\n          redirectTo=\"/login\"\n          component={Contacts}\n        />\n        <PublicRoute\n          restricted\n          path=\"/login\"\n          redirectTo=\"/contacts\"\n          component={LogIn}\n        />\n        <PublicRoute\n          redirectTo=\"/contacts\"\n          restricted\n          path=\"/register\"\n          exact\n          component={Register}\n        />\n      </Switch>\n    </>\n  );\n}\n\nexport default App;\n","import { createReducer, combineReducers } from '@reduxjs/toolkit';\nimport { filter } from '../phonebook/phonebook-actions';\nimport {\n  fetchContacts,\n  addContacts,\n  deleteContacts,\n} from './phonebook-operations';\n\nconst contacts = createReducer([], {\n  [fetchContacts.fulfilled]: (_, action) => action.payload,\n  [addContacts.fulfilled]: (state, { payload }) => [...state, payload],\n  [deleteContacts.fulfilled]: (state, { payload }) =>\n    state.filter(contact => contact.id !== payload),\n});\n\nconst filterReducer = createReducer('', {\n  [filter]: (_, { payload }) => payload,\n});\n\nexport const rootReducer = combineReducers({\n  contacts,\n  filter: filterReducer,\n});\n","import { createSlice } from '@reduxjs/toolkit';\nimport { register, logIn, logOut, getCurrentUser } from './auth-operations';\n\nconst authReducer = createSlice({\n  name: 'auth',\n  initialState: {\n    user: {\n      name: null,\n      email: null,\n    },\n    token: null,\n    isLoggedIn: false,\n    isFetchingCurrentUser: false,\n  },\n  extraReducers: {\n    [register.fulfilled]: (state, { payload }) => ({\n      ...state,\n      isLoggedIn: true,\n      user: payload.user,\n      token: payload.token,\n    }),\n    [logIn.fulfilled]: (state, { payload }) => ({\n      ...state,\n      isLoggedIn: true,\n      user: payload.user,\n      token: payload.token,\n    }),\n    [logOut.fulfilled]: state => ({\n      ...state,\n      isLoggedIn: false,\n      user: { name: null, email: null },\n      token: null,\n    }),\n    [getCurrentUser.fulfilled]: (state, { payload }) => ({\n      ...state,\n      user: payload.user,\n      isLoggedIn: true,\n      isFetchingCurrentUser: false,\n    }),\n    [getCurrentUser.pending]: state => ({\n      ...state,\n      isFetchingCurrentUser: true,\n    }),\n    [getCurrentUser.rejected]: state => ({\n      ...state,\n      isFetchingCurrentUser: false,\n    }),\n  },\n});\n\nexport default authReducer.reducer;\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport logger from 'redux-logger';\nimport { rootReducer } from './phonebook/phonebook-reducers';\n//import { phonebookApi } from '../redux/rtk-phonebook/phonebook-api';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport authReducer from '../redux/auth/auth-slices';\n//import { filterReducer } from '../redux/rtk-phonebook/filterReducer';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  logger,\n];\n\nconst authPersistConfig = {\n  key: 'token',\n  storage,\n  whitelist: ['token'],\n};\n\nconst store = configureStore({\n  reducer: {\n    //[phonebookApi.reducerPath]: phonebookApi.reducer,\n    auth: persistReducer(authPersistConfig, authReducer),\n    phonebook: rootReducer,\n    //filter: filterReducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV !== 'production',\n});\n\nconst persistor = persistStore(store);\n\nexport default { store, persistor };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport configs from './redux/store';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={configs.store}>\n      <PersistGate loading={null} persistor={configs.persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}